<!doctype html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->
        <script src="https://js.pusher.com/platform/latest/pusher-platform.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    </head>
    <body>
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

        <h1>Airline Safety</h1>
        <div id="flights">

        </div>
    </body>
    <script>
      var app = new PusherPlatform.App({
        appId: '',
      });

      let safetyRatings = {
        881: {
          name: "Aerocaribbean",
          safety: "4"
        },
        838: {
          name: "British Airways",
          safety: "7"
        },
        1324: {
          name: "Jet West",
          safety: "7"
        },
        1033: {
          name: "Adria Airways",
          safety: "5"
        },
        1368: {
          name: "Aero Mongolia",
          safety: "5"
        },
        1710: {
          name: "Ryanair",
          safety: "7"
        }
      }
      var myFeed = app.feed('flights');
      // let americanAirlines = [{'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 0, 'Duration': 95, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T05:50:00', 'ArrivalDateTime': '2017-12-17T08:25:00', 'FlightNumber': '1276'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 13554, 'Id': 1, 'Duration': 90, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T10:15:00', 'ArrivalDateTime': '2017-12-17T10:45:00', 'FlightNumber': '1009'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11235, 'Id': 2, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T20:55:00', 'ArrivalDateTime': '2017-12-17T22:15:00', 'FlightNumber': '1464'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 821, 'DestinationStation': 10413, 'Id': 3, 'Duration': 115, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T06:15:00', 'ArrivalDateTime': '2017-12-17T09:10:00', 'FlightNumber': '1887'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 838, 'DestinationStation': 13554, 'Id': 4, 'Duration': 80, 'OriginStation': 10413, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T10:15:00', 'ArrivalDateTime': '2017-12-17T10:35:00', 'FlightNumber': '1580'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 5, 'Duration': 95, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T06:50:00', 'ArrivalDateTime': '2017-12-17T08:25:00', 'FlightNumber': '1435'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11235, 'Id': 6, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T09:40:00', 'ArrivalDateTime': '2017-12-17T11:00:00', 'FlightNumber': '1452'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11235, 'Id': 7, 'Duration': 85, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:40:00', 'ArrivalDateTime': '2017-12-17T13:05:00', 'FlightNumber': '1440'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11235, 'Id': 8, 'Duration': 90, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T15:10:00', 'ArrivalDateTime': '2017-12-17T16:40:00', 'FlightNumber': '1446'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11235, 'Id': 9, 'Duration': 85, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T17:30:00', 'ArrivalDateTime': '2017-12-17T18:55:00', 'FlightNumber': '1454'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11235, 'Id': 10, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T18:35:00', 'ArrivalDateTime': '2017-12-17T19:55:00', 'FlightNumber': '1458'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 11, 'Duration': 95, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T08:30:00', 'ArrivalDateTime': '2017-12-17T10:05:00', 'FlightNumber': '1439'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 12, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:45:00', 'ArrivalDateTime': '2017-12-17T14:05:00', 'FlightNumber': '1010'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 11235, 'Id': 13, 'Duration': 90, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T15:35:00', 'ArrivalDateTime': '2017-12-17T16:05:00', 'FlightNumber': '1285'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 14, 'Duration': 75, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:05:00', 'ArrivalDateTime': '2017-12-17T16:20:00', 'FlightNumber': '1012'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 11235, 'Id': 15, 'Duration': 90, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T21:35:00', 'ArrivalDateTime': '2017-12-17T22:05:00', 'FlightNumber': '1293'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1889, 'DestinationStation': 9451, 'Id': 16, 'Duration': 85, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T09:10:00', 'ArrivalDateTime': '2017-12-17T11:35:00', 'FlightNumber': '1278'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1889, 'DestinationStation': 13554, 'Id': 17, 'Duration': 85, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T13:25:00', 'ArrivalDateTime': '2017-12-17T13:50:00', 'FlightNumber': '1017'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 18, 'Duration': 90, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T10:15:00', 'ArrivalDateTime': '2017-12-17T11:45:00', 'FlightNumber': '1441'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 19, 'Duration': 75, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T18:00:00', 'ArrivalDateTime': '2017-12-17T20:15:00', 'FlightNumber': '1030'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 20, 'Duration': 90, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:50:00', 'ArrivalDateTime': '2017-12-17T13:20:00', 'FlightNumber': '1445'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 21, 'Duration': 85, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T12:50:00', 'ArrivalDateTime': '2017-12-17T14:15:00', 'FlightNumber': '1459'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 22, 'Duration': 90, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:00:00', 'ArrivalDateTime': '2017-12-17T15:30:00', 'FlightNumber': '1449'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 23, 'Duration': 90, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T17:15:00', 'ArrivalDateTime': '2017-12-17T18:45:00', 'FlightNumber': '1447'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11154, 'Id': 24, 'Duration': 70, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T08:20:00', 'ArrivalDateTime': '2017-12-17T09:30:00', 'FlightNumber': '3251'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 25, 'Duration': 90, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:40:00', 'ArrivalDateTime': '2017-12-17T13:10:00', 'FlightNumber': '8327'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11154, 'Id': 26, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T21:15:00', 'ArrivalDateTime': '2017-12-17T22:35:00', 'FlightNumber': '824'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 27, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-18T09:55:00', 'ArrivalDateTime': '2017-12-18T11:10:00', 'FlightNumber': '3252'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 16422, 'Id': 28, 'Duration': 95, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T08:55:00', 'ArrivalDateTime': '2017-12-17T10:30:00', 'FlightNumber': '3675'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 29, 'Duration': 85, 'OriginStation': 16422, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T17:25:00', 'ArrivalDateTime': '2017-12-17T18:50:00', 'FlightNumber': '5944'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 30, 'Duration': 90, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:00:00', 'ArrivalDateTime': '2017-12-17T13:30:00', 'FlightNumber': '1280'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 13554, 'Id': 31, 'Duration': 80, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T15:45:00', 'ArrivalDateTime': '2017-12-17T16:05:00', 'FlightNumber': '1021'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1889, 'DestinationStation': 9451, 'Id': 32, 'Duration': 70, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T20:25:00', 'ArrivalDateTime': '2017-12-17T22:35:00', 'FlightNumber': '1032'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1889, 'DestinationStation': 11235, 'Id': 33, 'Duration': 90, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-18T08:05:00', 'ArrivalDateTime': '2017-12-18T08:35:00', 'FlightNumber': '1277'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11154, 'Id': 34, 'Duration': 75, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:35:00', 'ArrivalDateTime': '2017-12-17T12:50:00', 'FlightNumber': '3253'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 35, 'Duration': 85, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T15:20:00', 'ArrivalDateTime': '2017-12-17T16:45:00', 'FlightNumber': '8337'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1889, 'DestinationStation': 9451, 'Id': 36, 'Duration': 90, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T13:20:00', 'ArrivalDateTime': '2017-12-17T15:50:00', 'FlightNumber': '1282'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 13554, 'Id': 37, 'Duration': 80, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T16:40:00', 'ArrivalDateTime': '2017-12-17T17:00:00', 'FlightNumber': '1023'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11154, 'Id': 38, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T13:15:00', 'ArrivalDateTime': '2017-12-17T14:35:00', 'FlightNumber': '836'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 39, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T18:10:00', 'ArrivalDateTime': '2017-12-17T19:25:00', 'FlightNumber': '3258'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 40, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T18:10:00', 'ArrivalDateTime': '2017-12-17T19:25:00', 'FlightNumber': '8858'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1033, 'DestinationStation': 11154, 'Id': 41, 'Duration': 85, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:15:00', 'ArrivalDateTime': '2017-12-17T15:40:00', 'FlightNumber': '5965'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1033, 'DestinationStation': 11154, 'Id': 42, 'Duration': 85, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:15:00', 'ArrivalDateTime': '2017-12-17T15:40:00', 'FlightNumber': '165'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 838, 'DestinationStation': 10413, 'Id': 43, 'Duration': 75, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T15:55:00', 'ArrivalDateTime': '2017-12-17T18:10:00', 'FlightNumber': '1781'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 821, 'DestinationStation': 11235, 'Id': 44, 'Duration': 105, 'OriginStation': 10413, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T20:30:00', 'ArrivalDateTime': '2017-12-17T21:15:00', 'FlightNumber': '1886'}, {'JourneyMode': 'Flight', 'Carrier': 1710, 'OperatingCarrier': 1710, 'DestinationStation': 10141, 'Id': 45, 'Duration': 70, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T17:50:00', 'ArrivalDateTime': '2017-12-17T20:00:00', 'FlightNumber': '2096'}, {'JourneyMode': 'Flight', 'Carrier': 1710, 'OperatingCarrier': 1710, 'DestinationStation': 11235, 'Id': 46, 'Duration': 110, 'OriginStation': 10141, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T21:15:00', 'ArrivalDateTime': '2017-12-17T22:05:00', 'FlightNumber': '2065'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 11154, 'Id': 47, 'Duration': 90, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T10:55:00', 'ArrivalDateTime': '2017-12-17T12:25:00', 'FlightNumber': '834'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 48, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:50:00', 'ArrivalDateTime': '2017-12-17T16:05:00', 'FlightNumber': '3256'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 49, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:50:00', 'ArrivalDateTime': '2017-12-17T16:05:00', 'FlightNumber': '8856'}, {'JourneyMode': 'Flight', 'Carrier': 1710, 'OperatingCarrier': 1710, 'DestinationStation': 10141, 'Id': 50, 'Duration': 70, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:05:00', 'ArrivalDateTime': '2017-12-17T13:15:00', 'FlightNumber': '2094'}, {'JourneyMode': 'Flight', 'Carrier': 1710, 'OperatingCarrier': 1710, 'DestinationStation': 11235, 'Id': 51, 'Duration': 105, 'OriginStation': 10141, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:40:00', 'ArrivalDateTime': '2017-12-17T15:25:00', 'FlightNumber': '2063'}, {'JourneyMode': 'Flight', 'Carrier': 1368, 'OperatingCarrier': 1368, 'DestinationStation': 11616, 'Id': 52, 'Duration': 100, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T12:30:00', 'ArrivalDateTime': '2017-12-17T15:10:00', 'FlightNumber': '905'}, {'JourneyMode': 'Flight', 'Carrier': 1368, 'OperatingCarrier': 1368, 'DestinationStation': 11235, 'Id': 53, 'Duration': 120, 'OriginStation': 11616, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T16:00:00', 'ArrivalDateTime': '2017-12-17T17:00:00', 'FlightNumber': '964'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 54, 'Duration': 90, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T12:00:00', 'ArrivalDateTime': '2017-12-17T13:30:00', 'FlightNumber': '5964'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 55, 'Duration': 90, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T12:00:00', 'ArrivalDateTime': '2017-12-17T13:30:00', 'FlightNumber': '164'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1653, 'DestinationStation': 16422, 'Id': 56, 'Duration': 95, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T08:55:00', 'ArrivalDateTime': '2017-12-17T10:30:00', 'FlightNumber': '8927'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 57, 'Duration': 85, 'OriginStation': 16422, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T13:05:00', 'ArrivalDateTime': '2017-12-17T14:30:00', 'FlightNumber': '5942'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 58, 'Duration': 85, 'OriginStation': 16422, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T13:05:00', 'ArrivalDateTime': '2017-12-17T14:30:00', 'FlightNumber': '384'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1033, 'DestinationStation': 11154, 'Id': 59, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T22:00:00', 'ArrivalDateTime': '2017-12-17T23:20:00', 'FlightNumber': '183'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 60, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-18T13:05:00', 'ArrivalDateTime': '2017-12-18T14:20:00', 'FlightNumber': '3254'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 821, 'DestinationStation': 10413, 'Id': 61, 'Duration': 110, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:15:00', 'ArrivalDateTime': '2017-12-17T14:05:00', 'FlightNumber': '1687'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 838, 'DestinationStation': 13554, 'Id': 62, 'Duration': 80, 'OriginStation': 10413, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T16:15:00', 'ArrivalDateTime': '2017-12-17T16:35:00', 'FlightNumber': '1280'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1653, 'DestinationStation': 11154, 'Id': 63, 'Duration': 75, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T11:35:00', 'ArrivalDateTime': '2017-12-17T12:50:00', 'FlightNumber': '8853'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 881, 'DestinationStation': 13554, 'Id': 64, 'Duration': 90, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T15:20:00', 'ArrivalDateTime': '2017-12-17T16:50:00', 'FlightNumber': '837'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11154, 'Id': 65, 'Duration': 70, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:45:00', 'ArrivalDateTime': '2017-12-17T15:55:00', 'FlightNumber': '3255'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 66, 'Duration': 90, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T18:00:00', 'ArrivalDateTime': '2017-12-17T19:30:00', 'FlightNumber': '178'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 838, 'DestinationStation': 10413, 'Id': 67, 'Duration': 75, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T09:40:00', 'ArrivalDateTime': '2017-12-17T11:55:00', 'FlightNumber': '1681'}, {'JourneyMode': 'Flight', 'Carrier': 838, 'OperatingCarrier': 821, 'DestinationStation': 11235, 'Id': 68, 'Duration': 105, 'OriginStation': 10413, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:50:00', 'ArrivalDateTime': '2017-12-17T15:35:00', 'FlightNumber': '1486'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1653, 'DestinationStation': 11154, 'Id': 69, 'Duration': 70, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T08:20:00', 'ArrivalDateTime': '2017-12-17T09:30:00', 'FlightNumber': '8851'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1653, 'DestinationStation': 11154, 'Id': 70, 'Duration': 70, 'OriginStation': 11235, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T14:45:00', 'ArrivalDateTime': '2017-12-17T15:55:00', 'FlightNumber': '8855'}, {'JourneyMode': 'Flight', 'Carrier': 881, 'OperatingCarrier': 1033, 'DestinationStation': 13554, 'Id': 71, 'Duration': 90, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T18:00:00', 'ArrivalDateTime': '2017-12-17T19:30:00', 'FlightNumber': '5978'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 18563, 'Id': 72, 'Duration': 90, 'OriginStation': 9451, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T09:30:00', 'ArrivalDateTime': '2017-12-17T11:00:00', 'FlightNumber': '1957'}, {'JourneyMode': 'Flight', 'Carrier': 1384, 'OperatingCarrier': 1384, 'DestinationStation': 13554, 'Id': 73, 'Duration': 115, 'OriginStation': 18563, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T12:05:00', 'ArrivalDateTime': '2017-12-17T13:00:00', 'FlightNumber': '332'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 881, 'DestinationStation': 11154, 'Id': 74, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T21:35:00', 'ArrivalDateTime': '2017-12-17T22:55:00', 'FlightNumber': '8326'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 75, 'Duration': 75, 'OriginStation': 11154, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-18T06:40:00', 'ArrivalDateTime': '2017-12-18T07:55:00', 'FlightNumber': '3250'}, {'JourneyMode': 'Flight', 'Carrier': 1707, 'OperatingCarrier': 1707, 'DestinationStation': 10694, 'Id': 76, 'Duration': 115, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T20:30:00', 'ArrivalDateTime': '2017-12-17T23:25:00', 'FlightNumber': '1508'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 77, 'Duration': 85, 'OriginStation': 10694, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-18T06:00:00', 'ArrivalDateTime': '2017-12-18T07:25:00', 'FlightNumber': '1124'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1033, 'DestinationStation': 15069, 'Id': 78, 'Duration': 75, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T22:15:00', 'ArrivalDateTime': '2017-12-17T23:30:00', 'FlightNumber': '725'}, {'JourneyMode': 'Flight', 'Carrier': 1033, 'OperatingCarrier': 1653, 'DestinationStation': 11235, 'Id': 79, 'Duration': 100, 'OriginStation': 15069, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-18T06:50:00', 'ArrivalDateTime': '2017-12-18T08:30:00', 'FlightNumber': '3806'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1889, 'DestinationStation': 9451, 'Id': 80, 'Duration': 75, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T16:25:00', 'ArrivalDateTime': '2017-12-17T18:40:00', 'FlightNumber': '1018'}, {'JourneyMode': 'Flight', 'Carrier': 1324, 'OperatingCarrier': 1324, 'DestinationStation': 9451, 'Id': 81, 'Duration': 80, 'OriginStation': 13554, 'Directionality': 'Outbound', 'DepartureDateTime': '2017-12-17T17:05:00', 'ArrivalDateTime': '2017-12-17T19:25:00', 'FlightNumber': '1022'}]
      // americanAirlines.map((x, index) => {
      //   myFeed.append({ index: x })
      // })

      myFeed.subscribe({
        lastEventId: "25",
        onOpen: () => console.log('Connection established'),
        onItem: item => {
          console.log('Item:', item.body.index);
          var div = document.createElement('div');
          div.setAttribute('class', 'flight');

          var FlightNumber = document.createElement('div');
          FlightNumber.append(item.body.index.FlightNumber);
          div.append(FlightNumber);

          var DepartureDateTime = document.createElement('div');
          DepartureDateTime.setAttribute('class', 'DepartureDateTime');
          DepartureDateTime.append(item.body.index.DepartureDateTime);
          div.append(DepartureDateTime);

          var ArrivalDateTime = document.createElement('div');
          ArrivalDateTime.setAttribute('class', 'ArrivalDateTime');
          ArrivalDateTime.append(item.body.index.ArrivalDateTime);
          div.append(ArrivalDateTime);

          var Carrier = document.createElement('div');
          Carrier.append(safetyRatings[item.body.index.Carrier].name);
          div.append(Carrier);

          var OriginStation = document.createElement('div');
          OriginStation.append('(LHR) London Heathrow');
          div.append(OriginStation);

          var DestinationStation = document.createElement('div');
          DestinationStation.append('(JFK) New York');
          div.append(DestinationStation);

          var Safety = document.createElement('div');
          Safety.append(safetyRatings[item.body.index.Carrier].safety + " / 7");
          div.append(Safety);

          document.getElementById('flights').appendChild(div);
        },
        onError: error => console.error('Error:', error),
      });
    </script>
</html>
